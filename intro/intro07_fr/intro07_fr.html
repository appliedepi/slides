<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction à R pour Épidémiologie appliquée</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/tabwid/tabwid.css" rel="stylesheet" />
    <script src="libs/tabwid/tabwid.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Introduction à R pour<br>Épidémiologie appliquée
]
.subtitle[
## Routine reports with {rmarkdown}
]
.date[
### <a href="mailto:contact@appliedepi.org">contact@appliedepi.org</a>
]

---








&lt;style type="text/css"&gt;
    .remark-code {
      font-size: 70%;
    }
    .remark-slide table{
      border: none
    }
    .remark-slide-table {
      
    }
    tr:first-child {
      border-top: none;
    }
    tr:last-child {
    border-bottom: none;
    }
&lt;/style&gt;

# Aujourd'hui : objectifs et calendrier

- Comprendre le markdown R comme un outil pour faire des rapports de routine.

- Explorer la variété de formats et d'intégrations pour les rapports R markdown.

- Convertir le code de ton étude de cas Ebola en un rapport R markdown

- Rendre le script R Markdown dynamiquement propice aux mises à jour des données.

&lt;div class="tabwid"&gt;&lt;style&gt;.cl-d2b100f2{}.cl-d29d9972{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d2a3c608{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d2a3ee6c{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3ee76{width:2.731in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3ee80{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3ee81{width:2.731in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3ee8a{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3ee94{width:2.731in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3ee95{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3ee9e{width:2.731in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3eea8{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a3eeb2{width:2.731in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}&lt;/style&gt;&lt;table data-quarto-disable-processing='true' class='cl-d2b100f2'&gt;&lt;thead&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;th class="cl-d2a3ee6c"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;Time&lt;/span&gt;&lt;/p&gt;&lt;/th&gt;&lt;th class="cl-d2a3ee76"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;Topic&lt;/span&gt;&lt;/p&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-d2a3ee80"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;30 minutes&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-d2a3ee81"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;R markdown slides &amp;amp; demonstration&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-d2a3ee8a"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;2.5 hours&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-d2a3ee94"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;Create your Ebola situation report&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-d2a3ee95"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;30 minutes&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-d2a3ee9e"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;Debrief&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;tfoot&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td  colspan="2"class="cl-d2a3eea8"&gt;&lt;p class="cl-d2a3c608"&gt;&lt;span class="cl-d29d9972"&gt;Take breaks as you wish during the exercise&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;&lt;/table&gt;&lt;/div&gt;

---

# Santé publique et rapports de routine : une histoire d'amour

.pull-left[

En santé publique, nous aimons nos rapports.

- Rapports sur la situation des épidémies
- Diaporamas hebdomadaires
- Briefing exécutif
- Rapports destinés au public
- Enquêtes sur la santé communautaire
- Analyses d'enquêtes sur la vaccination
- ...

**La production manuelle est laborieuse et sujette aux erreurs humaines**

]

.pull-right[

&lt;img src="../../images/welcome/automated_reports.png" width="100%" /&gt;

]

---

# Santé publique et rapports de routine : une histoire d'amour

.pull-left[

Nous devons souvent les produire pour de nombreuses sous-populations :

- Quartier, code postal
- Comté, district, province, état, pays
- Sous-populations ethniques ou professionnelles
- Groupes à haut risque
- Hebdomadaire, trimestriel, annuel

**La production manuelle est laborieuse et sujette à l'erreur humaine**

]

.pull-right[

&lt;img src="../../images/welcome/automated_reports.png" width="100%" /&gt;

]

---

# "Automatisation" v. l'œil humain

.pull-left[

"L'apprentissage automatique" et "l'IA" sont des sujets d'actualité en ce moment.

Mais dans la plupart des scénarios de santé publique et d'épidémiologie appliquée, l'interprétation correcte des tendances nécessite également :

- L'expérience
- Connaissance du contexte local
- Compréhension du flux de données et de ses limites

Comment as-tu expérimenté les limites de l'"automatisation" dans ton travail ?

]

.pull-right[

&lt;img src="../../images/rmarkdown/human_robot.png" width="75%" /&gt;

]

---

class: inverse, center, middle

# R markdown

## Un endroit pour l'écriture basée sur les données.&lt;/br&gt;Du code, du texte et des sorties ensemble.

---

# Diverses sorties

&lt;img src="../../images/rmarkdown/rmarkdown_overview.png" width="100%" /&gt;

---

# Tableaux de bord

{rmarkdown} peut produire des tableaux de bord simples à envoyer par courriel ou à héberger en ligne.

&lt;img src="../../images/rmarkdown/flexdashboard_output.png" width="75%" /&gt;

.footnote[Inscris-toi à notre cours de Markdown R avancé ou consulte la rubrique [Epi R Handbook chapitre](https://epirhandbook.com/en/dashboards-with-r-markdown.html)!]

---

class: inverse, center, middle

# Même ces diapositives ont été réalisées avec R Markdown !

&lt;img src="../../images/rmarkdown/even_slides.png" width="75%" /&gt;

.footnote [Voir le {xaringan} et inscris-toi à notre cours avancé de R Markdown].

---

# Vue d'ensemble

**Le script entier est maintenant un document** qui intègre **des phrases de texte** avec des phrases **code R** et son **sorties**. Tout est mis à jour lorsque le script est exécuté.

&lt;img src="../../images/rmd_1/rmarkdown_translation.png" width="100%" /&gt;

---

# Vocabulaire

- **Markdown (.md)** - un "langage" non spécifique à R, qui permet de convertir ton texte brut en html et autres formats.

--

- **R Markdown (.Rmd)** - une variante de markdown spécifique à R

--

- {rmarkdown} un paquetage R utilisé pour rendre le markdown (texte) dans le fichier markdown R dans la sortie désirée.

--

- {knitr} - un paquet R qui lit les morceaux de code R et les intègre au document.

--

- **Pandoc** - un logiciel séparé (mais fourni avec RStudio) qui convertit le résultat en word/pdf/powerpoint, etc.

&lt;img src="../../images/rmarkdown/0_rmd.png" width="75%" /&gt;

.footnote[image [source](https://rmarkdown.rstudio.com/authoring_quick_tour.html)]

? ??
Ce processus se déroule en arrière-plan, tu n'as donc pas besoin de connaître toutes ces étapes. Cependant, il se peut que tu rencontres ces noms.

Le fichier .Rmd est transmis à knitr, qui exécute les morceaux de code R et crée un nouveau fichier .md (markdown) qui comprend le code R et son rendu. Le fichier .md est ensuite traité par pandoc pour créer le produit fini : un document Microsoft Word, un fichier HTML, un document powerpoint, un pdf, etc.

---

class: centre, middle

# Morceaux de code R

---

# Morceaux de code

Dans R Markdown, ton code se présente sous forme de "chunks" - de minuscules morceaux de script R dans le document. Les morceaux de code sont destinés à des tâches discrètes (par exemple, charger des paquets, importer des données, nettoyer des données).

.pull-left[
Parties d'un morceau de code :

- 3 "backticks" et `{r}` commencent le morceau
- **Code R au milieu**
- 3 backticks ferment le chunk

*Raccourci clavier : Ctrl + Alt + i*  
*Raccourci du menu : Code -&gt; Insérer un morceau*

]

.pull-right[

````r
```{r}

R code will be here

```
````

&lt;/br&gt;

````r
```{r}

More R code will be here.

```
````

]

---

# Script R normal (.R)

&lt;img src="../../images/rmarkdown/r_script.png" width="100%" /&gt;

---

# Morceaux de code R Markdown (.Rmd)

&lt;img src="../../images/rmarkdown/rmd_script.png" width="100%" /&gt;

---

# La sortie du rapport

&lt;img src="../../images/rmarkdown/word_simple.png" width="100%" /&gt;

---

class: inverse, center, middle

# Texte

---

# Texte

&lt;img src="../../images/rmarkdown/rmd_text.png" width="100%" /&gt;

---
# Text 

.panelset[
.panel[.panel-name[To get this]
A normal text sentence.  
*Here is some text to be italicized*      
**Here is some text to be written in bold**   

* Bullet point 1   
* Bullet point 2  

]
.panel[.panel-name[Type this]
A normal text sentence.  
`*Here is some text to be italicized*`  
`**Here is some text to be written in bold**`

`* Bullet point 1`  
`* Bullet point 2`    

]
]

.footnote[See more RMarkdown formatting [here](https://rmarkdown.rstudio.com/authoring_basics.html)]



---
# Report headings and sections
.panelset[
.panel[.panel-name[To get this]
  
# Big heading  
## Smaller headings
### Smaller headings
#### Even smaller headings

]
.panel[.panel-name[Type this]


`# Big heading`  
`## Smaller headings`  
`### Smaller headings`  
`#### Even smaller headings`  



]
]

---

# Ajoute du texte au rapport

&lt;img src="../../images/rmarkdown/word_text.png" width="100%" /&gt;

---

class: inverse, center, middle

# Paramètres

---

# Paramètres YAML

Cette section à la page **en haut du document** spécifie les paramètres de base de la production.

Les paramètres sont écrits en `key: value` paires.



? ??
Note qu'il commence et se termine par trois tirets, et que l'emplacement des espaces et des deux points est très important.

---

# Le morceau "setup

**Bloc "options"** ajuste la façon dont le code R et ses sorties sont affichés dans le rapport.

Les `setup` situé en haut du document R Markdown utilise un {knitr} pour définir le **par** "options" par défaut pour tous les morceaux.

- Exécute des morceaux : `eval = TRUE`
- Affiche le code dans le rapport : `echo = TRUE`
- Afficher les avertissements dans le rapport : `warning = TRUE`
- Afficher les erreurs dans le rapport : `error = TRUE`
- Afficher les résultats dans le rapport : `include = TRUE`

Ci-dessous, la valeur par défaut est définie de manière à ce que le code R soit imprimé dans le rapport, mais que les avertissements et les messages d'erreur ne le soient pas.

````r
```{r setup, include=FALSE} 

knitr::opts_chunk$set(echo = TRUE, warning = FALSE, error = FALSE)

```
````

---

# Options de découpage

Pour remplacer les valeurs par défaut, tu peux ajuster les options de chaque morceau :

.pull-left[
Ajuste les "options" du bloc à l'intérieur de l'élément `{r}`

- Exécute le morceau : `eval = TRUE`
- Montre le code : `echo = TRUE`
- Afficher les avertissements : `warning = TRUE`
- Afficher les erreurs : `error = TRUE`
- Afficher les résultats : `include = TRUE`

Note les virgules entre chaque option.

]

.pull-right[

````r
```{r packages, echo = FALSE, warning = FALSE} 

pacman::p_load(
  rio,      # import/export
  here,     # file paths
  janitor,  # cleaning &amp; simple tables
  tidyverse # data management &amp; viz
)

```
````

]

En savoir plus sur les options des morceaux de code [ici](https://rmarkdown.rstudio.com/lesson-3.html)

? ??
Les noms de morceaux ne peuvent pas contenir d'espaces

---

# Exécuter le document

Appuie sur le bouton "tricoter" en haut. Utilise la liste déroulante pour les options.

&lt;img src="../../images/rmarkdown/4_knitbutton.PNG" width="10%" /&gt;

Les progrès s'affichent dans le volet "R Markdown" (à côté de la console R).

&lt;img src="../../images/rmarkdown/4_progress.png" width="100%" /&gt;

Par défaut, le résultat sera enregistré à côté de ton fichier .Rmd.

? ??
Tu trouveras dans le manuel des options permettant de créer une "usine à rapports" où il est plus facile de cataloguer les résultats de nombreux rapports différents dans des dossiers datés et horodatés.

---

class: inverse, center, middle

# Démonstration en direct

&lt;img src="../../images/functions_packages/piano_man.jpg" width="50%" /&gt;

---

class: inverse, center, middle

# Conseils plus avancés

---

# Code R en ligne

Ce code écrit en ligne et le texte :

&lt;img src="../../images/rmarkdown/verbatim_inline_1_1_en.png" width="100%" /&gt;

produit ceci :

&lt;img src="../../images/rmarkdown/verbatim_inline_1_2_en.png" width="100%" /&gt;

---

# Code R en ligne

Ce code écrit en ligne et le texte :

&lt;img src="../../images/rmarkdown/verbatim_inline_2_1_en.png" width="100%" /&gt;

produit ceci :

&lt;img src="../../images/rmarkdown/verbatim_inline_2_2_en.png" width="100%" /&gt;

---

# Fonctions d'aide

{epikit}


```r
epikit::fmt_count(surv, is.na(date_onset))
```

```
## [1] "33 (5.2%)"
```


```r
str_glue("{fmt_count(surv, is.na(date_onset))} are missing date of onset and not shown.")
```

```
## 33 (5.2%) are missing date of onset and not shown.
```







--

{scales}


```r
str_glue("There were {comma(sum(as.numeric(surv$diff), na.rm=T))} total delay days between symptom onset and report.")
```

```
## There were 1,826 total delay days between symptom onset and report.
```







---

# Tableaux statiques

Ceci est écrit dans ton R markdown :

```
Column 1 |Column  2 |Column 3
---------|----------|--------
Cell A   |Cell B    |Cell C
Cell D   |Cell E    |Cell F
```

produit ceci :

| Colonne 1 | Colonne 2 | Colonne 3 | 
| --------- | --------- | --------- |
| Cellule A | Cellule B | Cellule C | 
| Cellule D | Cellule E | Cellule F | 

Les tableaux dynamiques peuvent être créés à l'aide de logiciels tels que {flextable} et {DT}.

---

# Mode source

Ton script pourrait ressembler à ceci :

&lt;img src="../../images/rmarkdown/source_mode_en.png" width="80%" /&gt;

---

# Mode visuel

RStudio te permet d'éditer en "mode visuel", qui ressemble à un document Word.

&lt;img src="../../images/rmarkdown/visual_mode_en.png" width="80%" /&gt;

? ??
Si écrire le document en code est intimidant, RStudio te permet de faire basculer le script en "mode visuel", de sorte que ton document ressemble à un document Word.

---

# `params`

Dans le YAML, tu peux définir `params` pour qu'il soit disponible pour le rapport :



Tu peux créer les noms de ces paramètres

---

# `params`

Dans le R Markdown, appelle-les `params` dans ton code en utilisant : `params$`

&lt;img src="../../images/rmarkdown/5_parameterized_1.png" width="100%" /&gt;

---

# `params`

Dans le R Markdown, appelle-les `params` dans ton code en utilisant : `params$`

&lt;img src="../../images/rmarkdown/5_parameterized_2.png" width="100%" /&gt;

---

# `params`

Dans le R Markdown, appelle-les `params` dans ton code en utilisant : `params$`

&lt;img src="../../images/rmarkdown/5_parameterized_3.png" width="100%" /&gt;

---

# `params`

.pull-left[

&lt;img src="../../images/rmarkdown/5_parameterized_menu_1.png" width="100%" /&gt;

]

.pull-right[

&lt;img src="../../images/rmarkdown/5_parameterized_menu_2.png" width="100%" /&gt;

]

---

# Modèles de rapports

Tu peux fournir des modèles R Markdown avec Word ou PPT (par exemple avec des logos, etc.).

Une fois le rapport rendu, tu peux modifier le texte pour y ajouter des interprétations.

Applied Epi collabore avec Médecins sans frontières (MSF) pour proposer des modèles R Markdown pour les rapports de situation :

- Choléra/diarrhée aqueuse aiguë
- Méningite
- Rougeole/Rubéole
- Syndrome de jaunisse aiguë (souvent soupçonné d'être l'hépatite E)

et pour l'analyse de l'enquête :

- Mortalité rétrospective et accès aux soins.
- Couverture vaccinale
- Malnutrition

---

# Éclatements

&lt;!-- --- --&gt;

&lt;!-- # code R en ligne --&gt;

&lt;!-- A partir de --&gt;

&lt;!-- `` `r format(Sys.Date())` ``, il y avait --&gt;

&lt;!-- `` `r nrow(surv)` `` cas confirmés.   --&gt;

&lt;!-- En date du --&gt;

&lt;!-- `` `r format(Sys.Date(), '%d %B, %Y')` ``, il y avait --&gt;

&lt;!-- `` `r nrow(surv)` ` ` cas confirmés.   --&gt;

&lt;!-- Produit ceci :   --&gt;

&lt;!-- Au 31 May, 2024, il y avait 636 cas confirmés.   --&gt;

&lt;!-- --- --&gt;


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>

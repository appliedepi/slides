---
title: "Applied Epi"
subtitle: "Taking control of your data"
format:
  revealjs: 
    slide-number: true
    chalkboard: 
      buttons: true
    controls: false
    multiplex: false
    preview-links: auto
    logo: ../../images/Applied_Epi_logo.png
    css: ../../images/styles.css
    footer: <https://appliedepi.org>
resources:
  - demo.pdf
fig-align: center
---

# Module 4: Part B

## Learning objectives

-   Learn the principles of tidy and clean data
-   Get introduced to functions that clean column names 
-   Learn about date formats in R
-   Get introduced to functions that clean and standardize values

# Cleaning data content

## What we will look at

We will take a look at
- Correcting and standardizing values
- Appropriate class

# Inspecting the data

## count() and tabyl()

Remember, you can use count() or tabyl() to quickly inspect column values to look for variations in how categories are spelled. 

::::::: columns
::::: {.column width="48%"}

::: {.code-box}
`df |> count(sex)`
:::

::: {.arrow-box}
&#8595;
:::

::: {.output-box}
```{r}
count(df, sex) |> 
  gt::gt() |>  gtExtras::gt_theme_guardian() |> 
  gt::tab_options(table.font.size = 19) 
```
:::

:::::

::::: {.column width="2%"}
:::::

::::: {.column width="48%"}

::: {.code-box}
`df |> tabyl(region)`
:::

::: {.arrow-box}
&#8595;
:::

::: {.output-box}
```{r}
tabyl(df, region) |> 
  gt::gt() |>  gtExtras::gt_theme_guardian() |> 
  gt::tab_options(table.font.size = 19) 
```
:::

:::::

:::::::


# case_match() to correct and standardize

## case_match() 

::: slide-header
{dplyr}
:::

- *Purpose*: To correct typos and standardize categories
- *Why*: So you can clean up inconsistent or misspelled entries, ensuring your data is uniform and easier to analyze.
- *Example*: You have a Region column with values like "Noth", "Norht", and "North". Using case_match() helps standardize them to "North". 
- *How*: 

# Transforming classes

## Remember classes?

::: {#general-box style="text-align: left; width: 850px; background: #ebebeb; margin: 0 auto; font-size: 29px;"}

| Class      | Description                                  |
|------------|----------------------------------------------|
| Numeric    | Numbers, which can include decimal points (e.g. 1.3) |
| Character  | Text or string values (e.g., "hello" but also "200")        |
| Logical    | Boolean values (`TRUE`, `FALSE`)             |
| Factor     | Categorical data (e.g., "low", "medium", "high") |
| Date       | Dates (e.g. "2025-01-01")                    |
:::

## Example



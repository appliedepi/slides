---
title: "Introduction to GIS in R"
author: "Base maps, projections and geometries"
date: '[contact@appliedepi.org](mailto:contact@appliedepi.org)'
output:
  xaringan::moon_reader:
    seal: TRUE
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
    css: [xaringan-themer.css] 
---

```{r, eval=F, echo=F, include = F}
# Must do in order to render.

pacman::p_load(xaringan)
devtools::install_github("gadenbuie/xaringanExtra")
devtools::install_github("gadenbuie/countdown")
remotes::install_github("mitchelloharawild/icons")
icons::download_fontawesome()

# Render with xaringan::infinite_moon_reader()
# Slides will appear in viewer, and will update as you edit/save
```


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      warning = FALSE, 
                      message = FALSE, 
                      fig.retina = 3  ## retina more effective than w/h (according to twitter)
                      # fig.width = 16, 
                      # fig.height = 10
                      )
## I dont know why this is included in the example xaringan slide 
## but is something to do with background images
options(htmltools.dir.version = FALSE)

## install and load necessary packages 
pacman::p_load(
  rio,        # importing data  
  here,       # relative file pathways  
  janitor,    # data cleaning and tables
  lubridate,  # working with dates
  tidyverse,  # data management and visualization
  gtsummary,  # summary tables
  flair,      # coloring text
  kableExtra, # for output tables
  xaringanthemer  # for styling presentation 
)

library(countdown)
```


```{r  xaringan-themer, include = FALSE}

## define presentation colours (theme) using {xaringanthemer} package 
## https://pkg.garrickadenbuie.com/xaringanthemer/articles/xaringanthemer.html

## epirhandbook logo colours: 
  ## blue: "#00538c"
  ## green: "#007732"
  ## lighter green: "#48a878"

## see ?style_mono_accent for all the things can customise
style_mono_accent(
  base_color = "#00538c", 
  link_color = "#48a878", 
  # add logo to the title page (bit bigger)
  title_slide_background_image = "https://github.com/appliedepi/intro_course/raw/main/images/logo.png",
  title_slide_background_position = "95% 95%",
  title_slide_background_size = "25%",
  ## add logo to all following slidesw
  background_image = "https://github.com/appliedepi/intro_course/raw/main/images/logo.png", 
  background_size = "10%",
  background_position = "100% 0%"
)
```

```{css, echo=F}
    .remark-slide table{
      border: none
    }
    .remark-slide-table {
      
    }
    tr:first-child {
      border-top: none;
  }
    tr:last-child {
    border-bottom: none;
  }
```


```{r, echo=F, eval=T}
surv_raw <- rio::import(here::here("data", "surveillance_linelist_20141201.csv"))

surv <- rio::import(here::here("data", "surveillance_linelist_clean_20141201.rds"))
```


# Thank you for joining us  

Brief introductions from the instructors  

**Thank you for your service** *to your community in these busy times for public health. We are glad that you are taking the time to learn R with us.*  



???
Do a brief round of introductions  




---
# Why use R for GIS?

## Efficient

Once you have written the code once, there is no need to point and click and re-do analysis with updated data, you can reuse your old code! Which means that R is...

```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "efficient_image.PNG")))
```

???
Mention marketable skill as well as technically for epidemic response

---
# Why use R for GIS?

## Reproducible  

We can re-run the same code and get the same outcome, or use new data and see how findings have changed. Because it is written as a script it is reproducible, and...

```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "clone_image.jpg")))
```


---
# Why use R for GIS?

## Shareable  

You can share scripts and other people can produce the same findings and results as you. This makes it easy to produce automated reports and share the work between people.

```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "shareable_image.png")))
```

---
# Why use R for GIS?

## Easy (once you learn the syntax!)  

.pull-left[ We know that R can be scary (it was for us too when we first learned it!), but once you learn the basics, and how to apply these to GIS methods in R, you can very quickly produce in depth analysis of data in an efficient, effective and reproducible way! 
]

.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "100%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "easy_image.jpg")))
```
]


---
# Learning curve 

R has become easier to learn in the last 5 years

.pull-left[
- Friendlier user interface (RStudio)
- Simpler syntax ("tidyverse")
- Free resources & interactive tutorials available  
    - **Epidemiologist R Handbook**
    - **R 4 Data Science**
    - **R epidemiology case studies**
]

.pull-right[

```{r difficulty_plot1, warning = FALSE, message = FALSE}
exp <- function(x){x^2}
lgr <- function(x){log(x) + 4}
num <- 10000
linwid <- 2
ggplot() + 
  geom_function(fun = exp,
                n = num, 
                size = linwid,
                aes(colour = "Excel")) +
  geom_function(fun = lgr, 
                n = num, 
                size = linwid,
                aes(colour = "R")) + 
  scale_y_continuous(expand = c(0, 0), 
                     limits = c(0, 10)) + 
  scale_x_continuous(expand = c(0, 0), 
                     limits = c(0, 5)) + 
  labs(x = "Code complexity", 
       y = "Task difficulty") + 
  theme_classic(base_size = 24) + 
  theme(axis.text = element_blank(),
        axis.ticks = element_blank(), 
        legend.position = "bottom", 
        legend.title = element_blank())
```

]

???
- There is a bit of a learning curve - as with any software.  
- But we are here to get you over that initial hump so you can keep developing. 

---
# User community 

```{r, eval = TRUE, echo = FALSE, out.width = "125%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "user_community.png")))
```


???
- **The internet is your friend.**  
- Once you get to grips with the basics - people answer literally any question on **stackoverflow!**  
- **Epi R Handbook**  

---
class: inverse, center, middle

# Applied Epi: who are we? 


---
## About Applied Epi

We are **elevating frontline epidemiology** with open-source analytics tools

Our team of **170 practitioners** live in over **40 countries**. 

.pull-left[
- Local government epidemiologists and public health practitioners
- Emergency responders
- Data science educators
- Applied researchers
- Clinicians
- GIS experts...

]

.pull-right[

```{r, eval = TRUE, echo = FALSE, out.width = "200%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "team_locations.jpg")))
```

]


We too have been working overtime on COVID response...<br>*and we believe that accelerating public health's transition to R is really important.*

---
# A global grassroots movement

Some faces from our broader team

```{r, eval = TRUE, echo = FALSE, out.width = "120%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "team_faces.png")))
```


---
# Partnerships

We work closely with local and global entities to support people doing the hard work of public health practice


```{r, eval = TRUE, echo = FALSE, out.width = "80%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "partners-blur.jpg")))
```



???
- What makes us different is that we focus on the challenges of applied epi, not academic epi. We emphasize the skills used every day by ground-level epidemiologists. 





---

# The Epidemiologist R Handbook

```{r, eval = TRUE, echo = FALSE, out.width = "75%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "welcome", "Epi R Handbook Banner Beige 1500x500.png")))
```

- 50 chapters of free best-practice code examples - available online and offline
- 200,000 users globally (40,000 in low & middle-income countries)
- Being translated into 10 languages


> *"The epidemiologist greatest companion"* <br> - Epidemiologist, Nigeria CDC

> *"[It] weaves together so much, so succinctly, and so incredibly clearly"* <br> - Epidemiologist, US CDC


---
class: inverse, center, middle

# GIS for R: Course Format



---
# Your perceptions, hopes, and fears




---
# Course objectives

We want to help you:  

- GIS objective 1

--

- GIS objective 2

--

- GIS objective 3

--

- GIS objective 4



---
# Course format

- **Part 1. Classroom instruction** 2 half-day modules (3.5 hours each)

- **Part 2. Follow-up support** 1 hour Help Desk sessions to help you apply GIS in R to your work context

.footnote[We offer subscription **"R Help Desk"** services for further on-call support]

---
# Course schedule

```{r, echo=FALSE, warning=F, message=F}
outline <- dplyr::tribble(
  ~Module, ~Topic,
  "1",   "Introduction",
  "2",   "Basemaps, projections and geometries",
  "3",   "ggplot2 layers review",
  "4",   "other",
  )

outline %>% 
  flextable::qflextable()
```



---
# Data used in this course  

* Ebola case study in Sierra Leone
     * **Surveillance linelist** (primary dataset)  
     * Hospital linelists from 5 hospitals  
     * Population data stratified by demographic groups and admin levels
     * Sierra Leone shape files stratified by admin levels
     * Health facility shape files

* COVID-19 case study in USA
     * **Surveillance linelist** (primary dataset)
     * Population data stratified by cities
     * Fulton County, Georgia, USA, shape files
     * Fulton County, Georgia, USA, map tiles
     
.footnote[All data are not real. All files can be found in the course folder.]  


---
# Exercises

Most learning happens when you are coding, and have rapid on-hand assistance

- **Each module:** Explanation -> Live demo -> Exercises -> Plenary debrief  

--

- **Coding assistance** raise your hand during the exercise for 1-on-1 support

--

- **Screen share** helps instructors catch your errors early

--

- **Screen fatigue is real**  

--

- **The exercises are long** - it is OK if you do not finish. The complete code is available to you in the "scripts/backup" folder  

--

- **Extra support** is available if you are confused  





---
# Agreement with each other 

**Our team will:**  

--

- Create an affirming, supportive learning space

--

- Provide personalized attention, as much as possible  

--

- Allow you space to explore and "tinker" as you learn

--

- Appreciate your expertise

--

**We hope that you will:**  

--

- Reach outside of your comfort zone *(you might discover a new passion!)*  

--

- Try to attend all the sessions, and catch-up if you miss  

--

- Keep trying  

--

- Tell us if you do not understand  

--

- Be supportive of fellow participants  

???
We are in this course to succeed, together



---
# This session: objectives & schedule  

**In this module we aim to help you:**  
* Introduce basemaps and projections 
* Review ggplot2 layers and introduce ggmap  
* Write base R code for creating maps


```{r, echo=FALSE, warning=F, message=F}
outline <- dplyr::tribble(
  ~Time, ~Location, ~Topic,
  "15 minutes",     "Main",      "Welcome, course logistics, Why R?",
  "30 minutes",     "Main",      "Lecture 1: basemaps, projections and geometries",
  "2 hours",        "Breakouts", "Exercise",
  "30 minutes",     "Main",      "Plenary debrief"
)

outline %>% 
  flextable::qflextable() %>% 
  flextable::add_footer_lines("Take breaks as you wish during the exercise")
```

???
Note stretch breaks throughout.




---
class: inverse, center, middle  

# Stretch break!

(and time to ask questions)  

```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "breakout", "stretch.png")))
```

```{r}
countdown(minutes = 2, seconds = 00)
```




---
# RStudio projects  



.pull-left[

All the work in this course will take place within an **RStudio project** - a self-contained and portable R working environment.  

It is a folder with all the files associated with a distinct project:  
* Data files  
* R scripts  
* Outputs  
* etc.

This makes your life immensely easier.  

The project is represented by a .Rproj file in the folder.  

]

.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "85%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.
knitr::include_graphics(xfun::relative_path(here::here("images", "functions_packages", "project_briefcase.png")))
```

* `r emo::ji("folder")` intro_course  
     * intro_course.Rproj  
     * `r emo::ji("document")` **linelist.csv**
     * `r emo::ji("document")` **my_analysis.R**
     
]

???
We will help 
You can zip the folder and share it with a colleague, it can be hosted on a shared drive, and can be synced with a Github repository.  







---
class: inverse, center, middle  

# Geometries 

---

# Mapping Geometries 
### What can geometries represent? 

.pull-left[
- Points
     - Locations of people
     - Locations of facilities 
- Lines  
     - Roads
     - Rivers
- Polygons/areas
     - Countries
     - Lakes
]

.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "85%"}
# Using here() alone won't work because Rmd folder becomes the rendering root.
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.
knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "points_lines_polygons.png")))
```

]

.footnote[Image source: https://desktop.arcgis.com/en/arcmap/10.3/manage-data/geodatabases/feature-class-basics.htm]


---
# Storing Spatial Data 

```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "shapefiles_directory.png")))
```

Shapefiles

  * Traditional method used with ArcGIS or QGIS
  * Available from many organisations 


---

# Storing Spatial Data in R

.pull-left[
## Simple features
  * Geometry becomes a variable in your dataframe
  * Can be used with ggplot  (review to follow)
  * Attaches the shape to other data about that shape
]

.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "sf_hex.gif")))
```
]

.footnote[Image source: https://desktop.arcgis.com/en/arcmap/10.3/manage-data/geodatabases/feature-class-basics.htm]

---

# Storing Spatial Data in R

.pull-left[
## sf
  * Geometry becomes a variable in your dataframe
  * Can be used with ggplot  (review to follow)
  * Attaches the shape to other data about that shape
  * You can manipulate the data and keep the geometry attached
]

.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "shape_data_snippet.png")))
```
]


---

# Benefits of sf

- Compatible with QGIS and POSTGIS
     - Important open-source GIS platforms
     - Locations of facilities 
- Fast reading and writing of data
- Enhanced plotting performance
- sf highly functional for analysis
     - sf objects can be treated as data frames
     - sf functions work with tidyverse
     - sf functions names are consistent and intuitve (all begin with st_)

---
# Basic Cartography

.pull-left[
- Coordinate refrence systems (CRS)
- Projections
- A way to turn our spherical world into two dimensions


.footnote[Image source: https://s3.amazonaws.com/files.zevross.com/workshops/spatial/slides/html/4-crs.html#23]
]

.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "shape_data_snippet.png")))
```
]

---

# Coordinate Reference System

- Definied using EPSG
- Data you receive should include teh CRS
- Most common is WGS84 (EPSG 4326)
      - Used in GPS
- Files with different CRS may not work together


---

# Projections 

.pull-left[
- Different methods for turning the globe into a map
- All projections lead to some distortion
- Can change your perception
]

.pull-right[

```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "projections_face.png")))
```

]

.footnote[Image source: From Charles H. Deetz, Elements of Map Projection With Applications to Map and Chart Construction (Washington: Government Printing Office, 1921): 51.]

---
# What's smaller?


.pull-left[
- Russia from East to West
- Africa from East to West
]


.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "russia_africa_kms.png")))
```

]


--

.pull_left[

It's because of the projection!

]

---

# Projections

.pull-left[

- There are standard projections for most locations.
- Google them and use them!
]

.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "standard_projections.png")))
```

]

.footnote[Image source: https://www.mdpi.com/ijgi/ijgi-09-00196/article_deploy/html/images/ijgi-09-00196-g005.png
]
---
# Other key parts of maps to consider

.pull-left[
- Compass or North arrows
- Scale bars
- Legends
- Topography
- Any others you can think of?
]

.pull-right[
```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "gis", "map_components.png")))
```

]

.footnote[Image source: https://quizlet.com/310047587/parts-of-a-map-diagram/
]

---

class: inverse, center, middle  

# ggplot review


---
# Open the plot  

.pull-left[

```{r, echo = TRUE, eval = FALSE, tidy = FALSE}
ggplot()                   
```

`ggplot()` creates an empty canvas.  



]

.pull-right[

```{r , echo = FALSE, eval = TRUE}
ggplot()
```
] 

???
This is only a blank canvas, we have not defined what should be in the x and y axes. 
If several data frames are needed, they can be added in their own geoms.
Piping is useful to make one-time changes to a dataset prior to plotting.  



---
# Add the data  

.pull-left[

```{r, echo = TRUE, eval = FALSE, tidy = FALSE}
ggplot(data = surv)                   
```

Assign the data frame to use.  

Alternatively, use the `%>%` pipe operator to "pipe" a data frame *into* `ggplot()`  

```{r , echo = TRUE, eval = FALSE, tidy = FALSE}
surv %>%
  ggplot()
```

]

.pull-right[

```{r , echo = FALSE, eval = TRUE}
ggplot(data = surv)
```
] 

???
This is only a blank canvas, we have not defined what should be in the x and y axes. 
If several data frames are needed, they can be added in their own geoms.
Piping is useful to make one-time changes to a dataset prior to plotting.  




---
# Add the data  

.pull-left[

```{r, echo = TRUE, eval = FALSE, tidy = FALSE}
ggplot(
  data = surv)                   
```

Newlines and indents will not impact the code execution.  

They can make longer commands easier to read...  


]

.pull-right[

```{r , echo = FALSE, eval = TRUE}
ggplot(data = surv)
```
] 

???
This is only a blank canvas, we have not defined what should be in the x and y axes. 
If several data frames are needed, they can be added in their own geoms.
Piping is useful to make one-time changes to a dataset prior to plotting.  



---
# Mappings with `aes()`  

.pull-left[

```{r, eval=F, echo=T}
ggplot(
  data = surv,
  mapping = aes())        #<<
```

Plot "aesthetics" are features like position, color, shape...  

`mapping = aes()` maps "aesthetics" to columns in the data.  

]

.pull-right[

```{r , echo = FALSE, eval = TRUE}
ggplot(
  data = surv,
  mapping = aes())+
theme_grey(base_size = 16)
```
] 

???
ggplot commands tend to get very vertical (long)  





---
# Mappings with `aes()`  

.pull-left[

```{r, eval=F, echo=T}
ggplot(
  data = surv,
  mapping = aes(        
   x = age_years       #<<
   ))               
```

Aesthetic mappings are placed within `aes()`.  

Two basic mappings are axes to columns, via:  
`x = `   


]

.pull-right[

```{r , echo = FALSE, eval = TRUE}
ggplot(
  data = surv,
  mapping = aes(
   x = age_years))+
theme_grey(base_size = 16)
```
] 

???
ggplot commands tend to get very vertical (long)  




---
# Mappings with `aes()`  

.pull-left[

```{r, eval=F, echo=T}
ggplot(
  data = surv,
  mapping = aes(        
   x = age_years,       #<<
   y = ht_cm))          #<<
```

Aesthetic mappings are placed within `aes()`.  

Two basic mappings are axes to columns, via:  
`x = ` and `y = `  


]

.pull-right[

```{r , echo = FALSE, eval = TRUE}
ggplot(
  data = surv,
  mapping = aes(
   x = age_years,
   y = ht_cm))+
theme_grey(base_size = 16)
```
] 

???
ggplot commands tend to get very vertical (long)  





---
# Add geometry  

.pull-left[

```{r eval=F, echo=T}
ggplot(
  data = surv,
  mapping = aes(
    x = age_years,
    y = ht_cm)) +
*geom_point()
```

Data are visualized using "geom" commands, such as `geom_point()`.  

These commands are "added"  
with a **`+`** to the `ggplot()` command.  

]


.pull-right[

```{r eval=T, echo=F, message=F, warning=F}
ggplot(
  data = surv,
  mapping = aes(
   x = age_years,
   y = ht_cm)) +
geom_point() + 
theme_grey(base_size = 16)
```

]




---
# Geometries  

.pull-left[

Some classical “geoms” include:  

Geometry        |Geom                
----------------|--------------------
Histograms      |`geom_histogram()`  
Points          |`geom_point()`  


.footnote[Full list [here](https://ggplot2.tidyverse.org/reference/)]  

]


.pull-right[

```{r, message=F, warning=F}

# Histogram
histogram <- ggplot(
    data = surv,
    mapping = aes(
      x = date_onset))+
  geom_histogram(fill = "darkorange")+
  labs(title = "geom_histogram()")+
  theme_minimal(base_size = 16)
  

points <- ggplot(
    data = surv,
    mapping = aes(
      x = age_years,       
      y = ht_cm)
    )+
  geom_point()+
  labs(title = "geom_point()")+
  theme_minimal(base_size = 16)


cowplot::plot_grid(histogram, points,
                          nrow = 2, rel_widths = c(2,2))

#cowplot::plot_grid(top, lines, ncol = 1)

```

]






---
class: inverse, center, middle



## Exercise 1  


```{r, eval = TRUE, echo = FALSE, out.width = "50%"}
# adding xfun::relative_path() creates a dynamic file path between the Rmd location and the here() path.
# It dynamically creates the ../../etc filepath.

knitr::include_graphics(xfun::relative_path(here::here("images", "breakout", "teamwork2.png")))
```

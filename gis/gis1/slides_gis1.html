<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to GIS in R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Base maps, projections and geometries" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/tabwid/tabwid.css" rel="stylesheet" />
    <script src="libs/tabwid/tabwid.js"></script>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Introduction to GIS in R
]
.author[
### Base maps, projections and geometries
]
.date[
### <a href="mailto:contact@appliedepi.org">contact@appliedepi.org</a>
]

---










&lt;style type="text/css"&gt;
    .remark-slide table{
      border: none
    }
    .remark-slide-table {
      
    }
    tr:first-child {
      border-top: none;
  }
    tr:last-child {
    border-bottom: none;
  }
&lt;/style&gt;





# Thank you for joining us  

Brief introductions from the instructors  

**Thank you for your service** *to your community in these busy times for public health. We are glad that you are taking the time to learn R with us.*  



???
Do a brief round of introductions  




---
# Why use R for GIS?

## Efficient

Once you have written the code once, there is no need to point and click and re-do analysis with updated data, you can reuse your old code! Which means that R is...

&lt;img src="../../images/welcome/efficient_image.PNG" width="50%" /&gt;

???
Mention marketable skill as well as technically for epidemic response

---
# Why use R for GIS?

## Reproducible  

We can re-run the same code and get the same outcome, or use new data and see how findings have changed. Because it is written as a script it is reproducible, and...

&lt;img src="../../images/welcome/clone_image.jpg" width="50%" /&gt;


---
# Why use R for GIS?

## Shareable  

You can share scripts and other people can produce the same findings and results as you. This makes it easy to produce automated reports and share the work between people.

&lt;img src="../../images/welcome/shareable_image.PNG" width="50%" /&gt;

---
# Why use R for GIS?

## Easy (once you learn the syntax!)  

.pull-left[ We know that R can be scary (it was for us too when we first learned it!), but once you learn the basics, and how to apply these to GIS methods in R, you can very quickly produce in depth analysis of data in an efficient, effective and reproducible way! 
]

.pull-right[
&lt;img src="../../images/welcome/easy_image.jpg" width="100%" /&gt;
]


---
# Learning curve 

R has become easier to learn in the last 5 years

.pull-left[
- Friendlier user interface (RStudio)
- Simpler syntax ("tidyverse")
- Free resources &amp; interactive tutorials available  
    - **Epidemiologist R Handbook**
    - **R 4 Data Science**
    - **R epidemiology case studies**
]

.pull-right[

&lt;img src="slides_gis1_files/figure-html/difficulty_plot1-1.png" width="504" /&gt;

]

???
- There is a bit of a learning curve - as with any software.  
- But we are here to get you over that initial hump so you can keep developing. 

---
# User community 

&lt;img src="../../images/welcome/user_community.png" width="125%" /&gt;


???
- **The internet is your friend.**  
- Once you get to grips with the basics - people answer literally any question on **stackoverflow!**  
- **Epi R Handbook**  

---
class: inverse, center, middle

# Applied Epi: who are we? 


---
## About Applied Epi

We are **elevating frontline epidemiology** with open-source analytics tools

Our team of **170 practitioners** live in over **40 countries**. 

.pull-left[
- Local government epidemiologists and public health practitioners
- Emergency responders
- Data science educators
- Applied researchers
- Clinicians
- GIS experts...

]

.pull-right[

&lt;img src="../../images/welcome/team_locations.jpg" width="200%" /&gt;

]


We too have been working overtime on COVID response...&lt;br&gt;*and we believe that accelerating public health's transition to R is really important.*

---
# A global grassroots movement

Some faces from our broader team

&lt;img src="../../images/welcome/team_faces.png" width="120%" /&gt;


---
# Partnerships

We work closely with local and global entities to support people doing the hard work of public health practice


&lt;img src="../../images/welcome/partners-blur.jpg" width="80%" /&gt;



???
- What makes us different is that we focus on the challenges of applied epi, not academic epi. We emphasize the skills used every day by ground-level epidemiologists. 





---

# The Epidemiologist R Handbook

&lt;img src="../../images/welcome/Epi R Handbook Banner Beige 1500x500.png" width="75%" /&gt;

- 50 chapters of free best-practice code examples - available online and offline
- 200,000 users globally (40,000 in low &amp; middle-income countries)
- Being translated into 10 languages


&gt; *"The epidemiologist greatest companion"* &lt;br&gt; - Epidemiologist, Nigeria CDC

&gt; *"[It] weaves together so much, so succinctly, and so incredibly clearly"* &lt;br&gt; - Epidemiologist, US CDC


---
class: inverse, center, middle

# GIS for R: Course Format



---
# Your perceptions, hopes, and fears




---
# Course objectives

We want to help you:  

- GIS objective 1

--

- GIS objective 2

--

- GIS objective 3

--

- GIS objective 4



---
# Course format

- **Part 1. Classroom instruction** 2 half-day modules (3.5 hours each)

- **Part 2. Follow-up support** 1 hour Help Desk sessions to help you apply GIS in R to your work context

.footnote[We offer subscription **"R Help Desk"** services for further on-call support]

---
# Course schedule

&lt;div class="tabwid"&gt;&lt;style&gt;.cl-5932c2da{}.cl-59294b42{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-592d5408{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-592d6632{width:0.786in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d6633{width:2.926in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d663c{width:0.786in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d663d{width:2.926in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d6646{width:0.786in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d6647{width:2.926in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d6648{width:0.786in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d6650{width:2.926in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d6651{width:0.786in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-592d665a{width:2.926in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}&lt;/style&gt;&lt;table data-quarto-disable-processing='true' class='cl-5932c2da'&gt;&lt;thead&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;th class="cl-592d6632"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;Module&lt;/span&gt;&lt;/p&gt;&lt;/th&gt;&lt;th class="cl-592d6633"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;Topic&lt;/span&gt;&lt;/p&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-592d663c"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;1&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-592d663d"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;Introduction&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-592d6646"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;2&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-592d6647"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;Basemaps, projections and geometries&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-592d6648"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;3&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-592d6650"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;ggplot2 layers review&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-592d6651"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;4&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-592d665a"&gt;&lt;p class="cl-592d5408"&gt;&lt;span class="cl-59294b42"&gt;other&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;



---
# Data used in this course  

* Ebola case study in Sierra Leone
     * **Surveillance linelist** (primary dataset)  
     * Hospital linelists from 5 hospitals  
     * Population data stratified by demographic groups and admin levels
     * Sierra Leone shape files stratified by admin levels
     * Health facility shape files

* COVID-19 case study in USA
     * **Surveillance linelist** (primary dataset)
     * Population data stratified by cities
     * Fulton County, Georgia, USA, shape files
     * Fulton County, Georgia, USA, map tiles
     
.footnote[All data are not real. All files can be found in the course folder.]  


---
# Exercises

Most learning happens when you are coding, and have rapid on-hand assistance

- **Each module:** Explanation -&gt; Live demo -&gt; Exercises -&gt; Plenary debrief  

--

- **Coding assistance** raise your hand during the exercise for 1-on-1 support

--

- **Screen share** helps instructors catch your errors early

--

- **Screen fatigue is real**  

--

- **The exercises are long** - it is OK if you do not finish. The complete code is available to you in the "scripts/backup" folder  

--

- **Extra support** is available if you are confused  





---
# Agreement with each other 

**Our team will:**  

--

- Create an affirming, supportive learning space

--

- Provide personalized attention, as much as possible  

--

- Allow you space to explore and "tinker" as you learn

--

- Appreciate your expertise

--

**We hope that you will:**  

--

- Reach outside of your comfort zone *(you might discover a new passion!)*  

--

- Try to attend all the sessions, and catch-up if you miss  

--

- Keep trying  

--

- Tell us if you do not understand  

--

- Be supportive of fellow participants  

???
We are in this course to succeed, together



---
# This session: objectives &amp; schedule  

**In this module we aim to help you:**  
* Introduce basemaps and projections 
* Review ggplot2 layers and introduce ggmap  
* Write base R code for creating maps


&lt;div class="tabwid"&gt;&lt;style&gt;.cl-5951dabc{}.cl-594a8a64{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-594d4e8e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-594d6126{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6130{width:0.973in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6131{width:3.631in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6132{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d613a{width:0.973in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d613b{width:3.631in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d613c{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6144{width:0.973in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6145{width:3.631in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6146{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d614e{width:0.973in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d614f{width:3.631in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6158{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6159{width:0.973in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6162{width:3.631in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6163{width:1.033in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d6164{width:0.973in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-594d616c{width:3.631in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}&lt;/style&gt;&lt;table data-quarto-disable-processing='true' class='cl-5951dabc'&gt;&lt;thead&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;th class="cl-594d6126"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Time&lt;/span&gt;&lt;/p&gt;&lt;/th&gt;&lt;th class="cl-594d6130"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Location&lt;/span&gt;&lt;/p&gt;&lt;/th&gt;&lt;th class="cl-594d6131"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Topic&lt;/span&gt;&lt;/p&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-594d6132"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;15 minutes&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-594d613a"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Main&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-594d613b"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Welcome, course logistics, Why R?&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-594d613c"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;30 minutes&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-594d6144"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Main&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-594d6145"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Lecture 1: basemaps, projections and geometries&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-594d6146"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;2 hours&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-594d614e"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Breakouts&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-594d614f"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Exercise&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td class="cl-594d6158"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;30 minutes&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-594d6159"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Main&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class="cl-594d6162"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Plenary debrief&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;tfoot&gt;&lt;tr style="overflow-wrap:break-word;"&gt;&lt;td  colspan="3"class="cl-594d6163"&gt;&lt;p class="cl-594d4e8e"&gt;&lt;span class="cl-594a8a64"&gt;Take breaks as you wish during the exercise&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;&lt;/table&gt;&lt;/div&gt;

???
Note stretch breaks throughout.




---
class: inverse, center, middle  

# Stretch break!

(and time to ask questions)  

&lt;img src="../../images/breakout/stretch.png" width="50%" /&gt;

<div class="countdown" id="timer_fea4c62e" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>




---
# RStudio projects  



.pull-left[

All the work in this course will take place within an **RStudio project** - a self-contained and portable R working environment.  

It is a folder with all the files associated with a distinct project:  
* Data files  
* R scripts  
* Outputs  
* etc.

This makes your life immensely easier.  

The project is represented by a .Rproj file in the folder.  

]

.pull-right[
&lt;img src="../../images/functions_packages/project_briefcase.png" width="85%" /&gt;

* 📂 intro_course  
     * intro_course.Rproj  
     * 📝 **linelist.csv**
     * 📜 **my_analysis.R**
     
]

???
We will help 
You can zip the folder and share it with a colleague, it can be hosted on a shared drive, and can be synced with a Github repository.  







---
class: inverse, center, middle  

# Geometries 

---

# Mapping Geometries 
### What can geometries represent? 

.pull-left[
- Points
     - Locations of people
     - Locations of facilities 
- Lines  
     - Roads
     - Rivers
- Polygons/areas
     - Countries
     - Lakes
]

.pull-right[
&lt;img src="../../images/gis/points_lines_polygons.png" width="85%" /&gt;

]

.footnote[Image source: https://desktop.arcgis.com/en/arcmap/10.3/manage-data/geodatabases/feature-class-basics.htm]


---
# Storing Spatial Data 

&lt;img src="../../images/gis/shapefiles_directory.png" width="50%" /&gt;

Shapefiles

  * Traditional method used with ArcGIS or QGIS
  * Available from many organisations 


---

# Storing Spatial Data in R

.pull-left[
## Simple features
  * Geometry becomes a variable in your dataframe
  * Can be used with ggplot  (review to follow)
  * Attaches the shape to other data about that shape
]

.pull-right[
&lt;img src="../../images/gis/sf_hex.gif" width="50%" /&gt;
]

.footnote[Image source: https://desktop.arcgis.com/en/arcmap/10.3/manage-data/geodatabases/feature-class-basics.htm]

---

# Storing Spatial Data in R

.pull-left[
## sf
  * Geometry becomes a variable in your dataframe
  * Can be used with ggplot  (review to follow)
  * Attaches the shape to other data about that shape
  * You can manipulate the data and keep the geometry attached
]

.pull-right[
&lt;img src="../../images/gis/shape_data_snippet.png" width="50%" /&gt;
]


---

# Benefits of sf

- Compatible with QGIS and POSTGIS
     - Important open-source GIS platforms
     - Locations of facilities 
- Fast reading and writing of data
- Enhanced plotting performance
- sf highly functional for analysis
     - sf objects can be treated as data frames
     - sf functions work with tidyverse
     - sf functions names are consistent and intuitve (all begin with st_)

---
# Basic Cartography

.pull-left[
- Coordinate refrence systems (CRS)
- Projections
- A way to turn our spherical world into two dimensions
]

.pull-right[
&lt;img src="../../images/gis/shape_data_snippet.png" width="50%" /&gt;
]
.footnote[Image source: https://s3.amazonaws.com/files.zevross.com/workshops/spatial/slides/html/4-crs.html#23]
---

# Coordinate Reference System

- Definied using EPSG
- Data you receive should include teh CRS
- Most common is WGS84 (EPSG 4326)
      - Used in GPS
- Files with different CRS may not work together


---

# Projections 

.pull-left[
- Different methods for turning the globe into a map
- All projections lead to some distortion
- Can change your perception
]

.pull-right[

&lt;img src="../../images/gis/projections_face.png" width="50%" /&gt;

]

.footnote[Image source: From Charles H. Deetz, Elements of Map Projection With Applications to Map and Chart Construction (Washington: Government Printing Office, 1921): 51.]

---
# What's smaller?


.pull-left[
- Russia from East to West
- Africa from East to West
]


.pull-right[
&lt;img src="../../images/gis/russia_africa_kms.png" width="50%" /&gt;

]


--

.pull_left[

It's because of the projection!

]

---

# Projections

.pull-left[

- There are standard projections for most locations.
- Google them and use them!
]

.pull-right[
&lt;img src="../../images/gis/standard_projections.png" width="50%" /&gt;

]

.footnote[Image source: https://www.mdpi.com/ijgi/ijgi-09-00196/article_deploy/html/images/ijgi-09-00196-g005.png
]
---
# Other key parts of maps to consider

.pull-left[
- Compass or North arrows
- Scale bars
- Legends
- Topography
- Any others you can think of?
]

.pull-right[
&lt;img src="../../images/gis/map_components.png" width="50%" /&gt;

]

.footnote[Image source: https://quizlet.com/310047587/parts-of-a-map-diagram/
]

---

class: inverse, center, middle  

# ggplot review


---
# Open the plot  

.pull-left[


```r
ggplot()                   
```

`ggplot()` creates an empty canvas.  



]

.pull-right[

&lt;img src="slides_gis1_files/figure-html/unnamed-chunk-28-1.png" width="504" /&gt;
] 

???
This is only a blank canvas, we have not defined what should be in the x and y axes. 
If several data frames are needed, they can be added in their own geoms.
Piping is useful to make one-time changes to a dataset prior to plotting.  



---
# Add the data  

.pull-left[


```r
ggplot(data = surv)                   
```

Assign the data frame to use.  

Alternatively, use the `%&gt;%` pipe operator to "pipe" a data frame *into* `ggplot()`  


```r
surv %&gt;%
  ggplot()
```

]

.pull-right[

&lt;img src="slides_gis1_files/figure-html/unnamed-chunk-31-1.png" width="504" /&gt;
] 

???
This is only a blank canvas, we have not defined what should be in the x and y axes. 
If several data frames are needed, they can be added in their own geoms.
Piping is useful to make one-time changes to a dataset prior to plotting.  




---
# Add the data  

.pull-left[


```r
ggplot(
  data = surv)                   
```

Newlines and indents will not impact the code execution.  

They can make longer commands easier to read...  


]

.pull-right[

&lt;img src="slides_gis1_files/figure-html/unnamed-chunk-33-1.png" width="504" /&gt;
] 

???
This is only a blank canvas, we have not defined what should be in the x and y axes. 
If several data frames are needed, they can be added in their own geoms.
Piping is useful to make one-time changes to a dataset prior to plotting.  



---
# Mappings with `aes()`  

.pull-left[


```r
ggplot(
  data = surv,
* mapping = aes())
```

Plot "aesthetics" are features like position, color, shape...  

`mapping = aes()` maps "aesthetics" to columns in the data.  

]

.pull-right[

&lt;img src="slides_gis1_files/figure-html/unnamed-chunk-35-1.png" width="504" /&gt;
] 

???
ggplot commands tend to get very vertical (long)  





---
# Mappings with `aes()`  

.pull-left[


```r
ggplot(
  data = surv,
  mapping = aes(        
*  x = age_years
   ))               
```

Aesthetic mappings are placed within `aes()`.  

Two basic mappings are axes to columns, via:  
`x = `   


]

.pull-right[

&lt;img src="slides_gis1_files/figure-html/unnamed-chunk-37-1.png" width="504" /&gt;
] 

???
ggplot commands tend to get very vertical (long)  




---
# Mappings with `aes()`  

.pull-left[


```r
ggplot(
  data = surv,
  mapping = aes(        
*  x = age_years,
*  y = ht_cm))
```

Aesthetic mappings are placed within `aes()`.  

Two basic mappings are axes to columns, via:  
`x = ` and `y = `  


]

.pull-right[

&lt;img src="slides_gis1_files/figure-html/unnamed-chunk-39-1.png" width="504" /&gt;
] 

???
ggplot commands tend to get very vertical (long)  





---
# Add geometry  

.pull-left[


```r
ggplot(
  data = surv,
  mapping = aes(
    x = age_years,
    y = ht_cm)) +
*geom_point()
```

Data are visualized using "geom" commands, such as `geom_point()`.  

These commands are "added"  
with a **`+`** to the `ggplot()` command.  

]


.pull-right[

&lt;img src="slides_gis1_files/figure-html/unnamed-chunk-41-1.png" width="504" /&gt;

]




---
# Geometries  

.pull-left[

Some classical “geoms” include:  

Geometry        |Geom                
----------------|--------------------
Histograms      |`geom_histogram()`  
Points          |`geom_point()`  


.footnote[Full list [here](https://ggplot2.tidyverse.org/reference/)]  

]


.pull-right[

&lt;img src="slides_gis1_files/figure-html/unnamed-chunk-42-1.png" width="504" /&gt;

]






---
class: inverse, center, middle



## Exercise 1  


&lt;img src="../../images/breakout/teamwork2.png" width="50%" /&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
